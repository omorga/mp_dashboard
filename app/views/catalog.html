 <div class="row">
    <div class="col-lg-15 col-lg-offset-1 col-md-10 col-md-offset-1 col-xs-12 ">
      <div class="box box-primary" >
        <div class="box-header with-border">
          <h3 class="box-title">Catalogo</h3>
        </div>
        <!-- /.box-header -->
        <div class="box-body">
          <div class="form-group">
            <div class="row">
              <div class="col-lg-4 col-md-4 col-xs-4">
                <label><span style="font-weight:normal!important;">Seleziona categoria</span></label>
                <select ng-options ="category.id as category.id for category in ctrl.categories" ng-model="ctrl.category" class="form-control">

                </select>
              </div>
              <div class="col-md-8 col-lg-8 col-xs-8">
                <label><span style="font-weight:normal!important;">Cerca prodotto</span></label>
                <div class="box-tools">
                  <div class="input-group input-group-sm" style="width: 150px;">
                    <input name="table_search" class="form-control" placeholder="Search" type="text" ng-model="ctrl.searchText">
                    <div class="input-group-btn">
                      <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                    </div>
                  </div>

                </div>

              </div>
            </div>
            <hr>
            <label>Lista Lotti:</label>
            <div class="table-responsive">
              <table class="table table-bordered table-condensed table-hover">
                <tbody><tr>
                  <th ng-click="orderByField = 'Prodotto';
                                reverseSort = !reverseSort">
                    Prodotto
                    <span ng-show="orderByField == 'Prodotto'">
                            <span ng-show="!reverseSort">^</span>
                            <span ng-show="reverseSort">v</span>
                        </span>
                  </th>
                  <th ng-click="orderByField = 'Azienda';
                                reverseSort = !reverseSort">
                    Azienda
                    <span ng-show="orderByField == 'Azienda'">
                            <span ng-show="!reverseSort">^</span>
                            <span ng-show="reverseSort">v</span>
                        </span>
                  </th>
                  <th ng-click="orderByField = 'Proprieta';
                                reverseSort = !reverseSort">
                    Proprieta
                    <span ng-show="orderByField == 'Proprieta'">
                            <span ng-show="!reverseSort">^</span>
                            <span ng-show="reverseSort">v</span>
                        </span>
                  </th>
                  <th ng-click="orderByField = 'num';
                                reverseSort = !reverseSort">
                    #
                    <span ng-show="orderByField == 'num'">
                            <span ng-show="!reverseSort">^</span>
                            <span ng-show="reverseSort">v</span>
                        </span>
                  </th>
                  <th ng-click="orderByField = 'Rimanenza';
                                reverseSort = !reverseSort">
                    Rimanenza
                    <span ng-show="orderByField == 'Rimanenza'">
                            <span ng-show="!reverseSort">^</span>
                            <span ng-show="reverseSort">v</span>
                        </span>
                  </th>
                  <th ng-click="orderByField = 'TempoConsegna';
                                reverseSort = !reverseSort">
                    Tempo di Consegna
                    <span ng-show="orderByField == 'TempoConsegna'">
                            <span ng-show="!reverseSort">^</span>
                            <span ng-show="reverseSort">v</span>
                        </span>
                  </th><th ng-click="orderByField = 'Datadiscadenza';
                                reverseSort = !reverseSort">
                  Data di scadenza
                  <span ng-show="orderByField == 'Datadiscadenza'">
                            <span ng-show="!reverseSort">^</span>
                            <span ng-show="reverseSort">v</span>
                        </span>
                  </th>
                  <th ng-click="orderByField = 'PrezzoUnit';
                                reverseSort = !reverseSort">
                    Prezzo Unit.
                    <span ng-show="orderByField == 'PrezzoUnit'">
                            <span ng-show="!reverseSort">^</span>
                            <span ng-show="reverseSort">v</span>
                        </span>
                  </th>
                  <th ng-click="orderByField = 'PrezzoTot';
                                reverseSort = !reverseSort">
                    Prezzo Tot.
                    <span ng-show="orderByField == 'PrezzoTot'">
                            <span ng-show="!reverseSort">^</span>
                            <span ng-show="reverseSort">v</span>
                        </span>
                  </th>
                  <th ng-click="orderByField = 'Categoria';
                                reverseSort = !reverseSort">
                    Categoria
                    <span ng-show="orderByField == 'Categoria'">
                            <span ng-show="!reverseSort">^</span>
                            <span ng-show="reverseSort">v</span>
                        </span>
                  </th>
                  <th ng-click="orderByField = 'Stato';
                                reverseSort = !reverseSort">
                    Stato
                    <span ng-show="orderByField == 'Stato'">
                            <span ng-show="!reverseSort">^</span>
                            <span ng-show="reverseSort">v</span>
                        </span>
                  </th>

                </tr>
                <tr ng-repeat="batches in ctrl.despBatches | filter:ctrl.searchFilter | filter: ctrl.searchCategoryFilter | orderBy:orderByField:reverseSort">
                <td>{{batches.product.name}}</td>
                  <td>{{batches.product.stockist}}</td>
                  <td><span class="label label-success" ng-repeat="property in batches.product.properties">{{property}}</span></td>
                  <td>{{batches.number}}</td>
                  <td>{{batches.remaining}}</td>
                  <td>{{batches.product.averageDeliveryTime}} g </td>
                  <td>{{batches.expDate}}</td>
                  <td>{{batches.product.price | currency:'€'}}</td>
                  <td>{{batches.number*batches.remaining*batches.product.price | currency:'€'}}</td>
                  <td><span class="label label-success">{{batches.product.category.id}}</span></td>
                  <td ng-show="{{batches.status}} == 3"><i class="icon fa fa-warning"></i> Prodotto Segnalato!</td>
                </tr>
                </tbody></table>
            </div>
          </div>
        </div>

      </div>

    </div>

  </div>

</div>
